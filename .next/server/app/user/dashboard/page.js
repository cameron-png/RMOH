(()=>{var e={};e.id=503,e.ids=[503],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5272:(e,r,t)=>{Promise.resolve().then(t.bind(t,93013))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},18329:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},24026:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},27910:e=>{"use strict";e.exports=require("stream")},28270:(e,r,t)=>{Promise.resolve().then(t.bind(t,58709))},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},42896:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(65239),a=t(48088),o=t(88170),n=t.n(o),i=t(30893),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d={children:["",{children:["user",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66123)),"/home/user/studio/src/app/user/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,48827)),"/home/user/studio/src/app/user/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,61137)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/user/dashboard/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/user/dashboard/page",pathname:"/user/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},48827:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/user/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/user/layout.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},58534:(e,r,t)=>{Promise.resolve().then(t.bind(t,66123))},58709:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ey});var s,a,o=t(60687),n=t(43210),i=t(75535),l=t(50944),d=t(68504),c=t(29523),u=t(85814),p=t.n(u),h=t(30474),f=t(44493),x=t(24026),m=t(58893),g=t(48206),v=t(18329),j=t(96834),b=t(35950);function w({openHouse:e,leadCount:r,feedbackCount:t,onSetActive:s}){if(!e.address)return(0,o.jsx)(f.Zp,{className:"flex flex-col h-full group w-full overflow-hidden",children:(0,o.jsx)("div",{className:"p-4 flex-grow flex flex-col",children:(0,o.jsx)("p",{className:"text-muted-foreground",children:"Loading address..."})})});let a=e.address.split(","),n=a[0],i=a.length>1?a.slice(1).join(",").trim():"";return(0,o.jsxs)(f.Zp,{className:"flex flex-col h-full group w-full overflow-hidden",children:[(0,o.jsx)(p(),{href:`/user/open-house/${e.id}`,className:"block h-40 w-full relative bg-muted border-b",children:e.imageUrl?(0,o.jsx)(h.default,{src:e.imageUrl,alt:`Image of ${e.address}`,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300","data-ai-hint":"house exterior"}):(0,o.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,o.jsx)(x.A,{className:"w-10 h-10 text-muted-foreground"})})}),(0,o.jsxs)("div",{className:"p-4 flex-grow flex flex-col",children:[(0,o.jsx)("div",{className:"flex-grow",children:(0,o.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,o.jsxs)("div",{className:"flex-grow",children:[(0,o.jsx)(p(),{href:`/user/open-house/${e.id}`,children:(0,o.jsx)("p",{className:"font-semibold text-lg leading-tight group-hover:underline",children:n})}),i&&(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:i})]}),(0,o.jsx)("div",{className:"flex-shrink-0 mt-1",children:e.isActive?(0,o.jsxs)(j.E,{className:"bg-green-600 text-white hover:bg-green-600",children:[(0,o.jsx)(m.A,{className:"mr-1.5"}),"Active"]}):(0,o.jsx)(c.$,{onClick:()=>s(e.id),size:"sm",variant:"secondary",className:"shadow-sm",children:"Set Active"})})]})}),(0,o.jsx)(b.w,{className:"my-4"}),(0,o.jsxs)("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 text-sm text-muted-foreground",children:[(0,o.jsxs)(p(),{href:`/user/my-leads?house=${e.id}`,className:"hover:underline flex items-center gap-2",children:[(0,o.jsx)(g.A,{className:"w-4 h-4"}),(0,o.jsxs)("span",{children:[r," ",1===r?"Lead":"Leads"]})]}),(0,o.jsx)(b.w,{orientation:"vertical",className:"h-4 hidden sm:block"}),(0,o.jsxs)(p(),{href:`/user/open-house/${e.id}/feedback`,className:"hover:underline flex items-center gap-2",children:[(0,o.jsx)(v.A,{className:"w-4 h-4"}),(0,o.jsxs)("span",{children:[t," ",1===t?"Entry":"Entries"]})]})]})]})]})}var y=t(71669),N=t(89667),C=t(27605),A=t(63442),k=t(45880),P=t(29867);"function"==typeof SuppressedError&&SuppressedError,s||(s=1),!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(a||(a={}));var R=t(15079),E=t(13972),S=t(82614);let I=(0,S.A)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),O=(0,S.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),q=(0,S.A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var D=t(70569),M=t(98599),F=t(11273),H=t(31355),_=t(1359),z=t(32547),L=t(96963),Z=t(55509),$=t(25028),G=t(46059),U=t(3416),V=n.forwardRef((e,r)=>{let{children:t,...s}=e,a=n.Children.toArray(t),i=a.find(W);if(i){let e=i.props.children,t=a.map(r=>r!==i?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,o.jsx)(T,{...s,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,o.jsx)(T,{...s,ref:r,children:t})});V.displayName="Slot";var T=n.forwardRef((e,r)=>{let{children:t,...s}=e;if(n.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t),a=function(e,r){let t={...r};for(let s in r){let a=e[s],o=r[s];/^on[A-Z]/.test(s)?a&&o?t[s]=(...e)=>{o(...e),a(...e)}:a&&(t[s]=a):"style"===s?t[s]={...a,...o}:"className"===s&&(t[s]=[a,o].filter(Boolean).join(" "))}return{...e,...t}}(s,t.props);return t.type!==n.Fragment&&(a.ref=r?(0,M.t)(r,e):e),n.cloneElement(t,a)}return n.Children.count(t)>1?n.Children.only(null):null});T.displayName="SlotClone";var B=({children:e})=>(0,o.jsx)(o.Fragment,{children:e});function W(e){return n.isValidElement(e)&&e.type===B}var Y=t(65551),K=t(63376),J=t(11490),Q="Popover",[X,ee]=(0,F.A)(Q,[Z.Bk]),er=(0,Z.Bk)(),[et,es]=X(Q),ea=e=>{let{__scopePopover:r,children:t,open:s,defaultOpen:a,onOpenChange:i,modal:l=!1}=e,d=er(r),c=n.useRef(null),[u,p]=n.useState(!1),[h=!1,f]=(0,Y.i)({prop:s,defaultProp:a,onChange:i});return(0,o.jsx)(Z.bL,{...d,children:(0,o.jsx)(et,{scope:r,contentId:(0,L.B)(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:n.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:u,onCustomAnchorAdd:n.useCallback(()=>p(!0),[]),onCustomAnchorRemove:n.useCallback(()=>p(!1),[]),modal:l,children:t})})};ea.displayName=Q;var eo="PopoverAnchor";n.forwardRef((e,r)=>{let{__scopePopover:t,...s}=e,a=es(eo,t),i=er(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:d}=a;return n.useEffect(()=>(l(),()=>d()),[l,d]),(0,o.jsx)(Z.Mz,{...i,...s,ref:r})}).displayName=eo;var en="PopoverTrigger",ei=n.forwardRef((e,r)=>{let{__scopePopover:t,...s}=e,a=es(en,t),n=er(t),i=(0,M.s)(r,a.triggerRef),l=(0,o.jsx)(U.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ev(a.open),...s,ref:i,onClick:(0,D.m)(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:(0,o.jsx)(Z.Mz,{asChild:!0,...n,children:l})});ei.displayName=en;var el="PopoverPortal",[ed,ec]=X(el,{forceMount:void 0}),eu=e=>{let{__scopePopover:r,forceMount:t,children:s,container:a}=e,n=es(el,r);return(0,o.jsx)(ed,{scope:r,forceMount:t,children:(0,o.jsx)(G.C,{present:t||n.open,children:(0,o.jsx)($.Z,{asChild:!0,container:a,children:s})})})};eu.displayName=el;var ep="PopoverContent",eh=n.forwardRef((e,r)=>{let t=ec(ep,e.__scopePopover),{forceMount:s=t.forceMount,...a}=e,n=es(ep,e.__scopePopover);return(0,o.jsx)(G.C,{present:s||n.open,children:n.modal?(0,o.jsx)(ef,{...a,ref:r}):(0,o.jsx)(ex,{...a,ref:r})})});eh.displayName=ep;var ef=n.forwardRef((e,r)=>{let t=es(ep,e.__scopePopover),s=n.useRef(null),a=(0,M.s)(r,s),i=n.useRef(!1);return n.useEffect(()=>{let e=s.current;if(e)return(0,K.Eq)(e)},[]),(0,o.jsx)(J.A,{as:V,allowPinchZoom:!0,children:(0,o.jsx)(em,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,D.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.current||t.triggerRef.current?.focus()}),onPointerDownOutside:(0,D.m)(e.onPointerDownOutside,e=>{let r=e.detail.originalEvent,t=0===r.button&&!0===r.ctrlKey;i.current=2===r.button||t},{checkForDefaultPrevented:!1}),onFocusOutside:(0,D.m)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),ex=n.forwardRef((e,r)=>{let t=es(ep,e.__scopePopover),s=n.useRef(!1),a=n.useRef(!1);return(0,o.jsx)(em,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(s.current||t.triggerRef.current?.focus(),r.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(s.current=!0,"pointerdown"===r.detail.originalEvent.type&&(a.current=!0));let o=r.target;t.triggerRef.current?.contains(o)&&r.preventDefault(),"focusin"===r.detail.originalEvent.type&&a.current&&r.preventDefault()}})}),em=n.forwardRef((e,r)=>{let{__scopePopover:t,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onInteractOutside:u,...p}=e,h=es(ep,t),f=er(t);return(0,_.Oh)(),(0,o.jsx)(z.n,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:(0,o.jsx)(H.qW,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:(0,o.jsx)(Z.UC,{"data-state":ev(h.open),role:"dialog",id:h.contentId,...f,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eg="PopoverClose";function ev(e){return e?"open":"closed"}n.forwardRef((e,r)=>{let{__scopePopover:t,...s}=e,a=es(eg,t);return(0,o.jsx)(U.sG.button,{type:"button",...s,ref:r,onClick:(0,D.m)(e.onClick,()=>a.onOpenChange(!1))})}).displayName=eg,n.forwardRef((e,r)=>{let{__scopePopover:t,...s}=e,a=er(t);return(0,o.jsx)(Z.i3,{...a,...s,ref:r})}).displayName="PopoverArrow";var ej=t(4780);let eb=n.forwardRef(({className:e,align:r="center",sideOffset:t=4,...s},a)=>(0,o.jsx)(eu,{children:(0,o.jsx)(eh,{ref:a,align:r,sideOffset:t,className:(0,ej.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));eb.displayName=eh.displayName;let ew=k.Ik({address:k.Yj().min(10,{message:"Please enter a valid address."})});function ey(){let{user:e,loading:r}=(0,d.A)(),[t,s]=(0,n.useState)([]),[a,u]=(0,n.useState)(new Map),[h,x]=(0,n.useState)(new Map),[m,v]=(0,n.useState)(!0),{toast:j}=(0,P.dj)(),[b,k]=(0,n.useState)(""),[S,D]=(0,n.useState)("newest"),[M,F]=(0,n.useState)(null),[H,_]=(0,n.useState)(!1),[z,L]=(0,n.useState)(0),[Z,$]=(0,n.useState)(null),G=(0,n.useRef)(null);(0,n.useRef)(null);let U=(0,C.mN)({resolver:(0,A.u)(ew),defaultValues:{address:""}}),V=(0,n.useCallback)(async()=>{if(e){v(!0);try{let r=(0,i.query)((0,i.collection)(l.db,"openHouses"),(0,i.where)("userId","==",e.uid),(0,i.My)("createdAt","desc")),t=(await (0,i.getDocs)(r)).docs.map(e=>({id:e.id,...e.data()}));s(t);let a=t.find(e=>e.isActive)||null;$(a);let o=i.Dc.fromDate(new Date(Date.now()-6048e5)),n=(0,i.query)((0,i.collection)(l.db,"leads"),(0,i.where)("userId","==",e.uid),(0,i.where)("createdAt",">=",o)),d=await (0,i.getDocs)(n);if(L(d.size),0===t.length)return void v(!1);let c=t.map(e=>e.id),p=(0,i.query)((0,i.collection)(l.db,"leads"),(0,i.where)("userId","==",e.uid),(0,i.where)("openHouseId","in",c)),h=await (0,i.getDocs)(p),f=new Map;h.forEach(e=>{let r=e.data();f.set(r.openHouseId,(f.get(r.openHouseId)||0)+1)}),u(f);let m=(0,i.query)((0,i.collection)(l.db,"feedbackSubmissions"),(0,i.where)("userId","==",e.uid),(0,i.where)("openHouseId","in",c)),g=await (0,i.getDocs)(m),j=new Map;g.forEach(e=>{let r=e.data();j.set(r.openHouseId,(j.get(r.openHouseId)||0)+1)}),x(j)}catch(e){console.error("Error fetching dashboard data: ",e),j({variant:"destructive",title:"Data Fetch Error",description:"Could not fetch your dashboard data."})}finally{v(!1)}}},[e,j]),T=(0,n.useMemo)(()=>t.filter(e=>e.address.toLowerCase().includes(b.toLowerCase())).sort((e,r)=>{let t=e.createdAt?e.createdAt.toDate().getTime():0,s=r.createdAt?r.createdAt.toDate().getTime():0;return"newest"===S?s-t:t-s}),[t,b,S]);async function B(r){if(!e)return void j({variant:"destructive",title:"Authentication Error",description:"You must be logged in to create an open house."});try{let s,a=t.length>0;if(e.defaultFormId)s=e.defaultFormId;else{let e=await (0,i.x7)((0,i.H9)(l.db,"settings","appDefaults"));e.exists()&&(s=e.data().defaultGlobalFormId)}let o=await (0,i.gS)((0,i.collection)(l.db,"openHouses"),{userId:e.uid,address:r.address,createdAt:i.Dc.now(),isActive:0===t.length,feedbackFormId:s||null});U.reset(),await V(),a&&(F(o.id),_(!0))}catch(e){console.error("Error creating open house: ",e),j({variant:"destructive",title:"Error",description:"Could not create the open house. Please try again."})}}let W=async r=>{if(!e)return;let s=(0,i.wP)(l.db);t.forEach(e=>{if(e.isActive&&e.id!==r){let r=(0,i.H9)(l.db,"openHouses",e.id);s.update(r,{isActive:!1})}});let a=(0,i.H9)(l.db,"openHouses",r);s.update(a,{isActive:!0});try{await s.commit(),await V()}catch(e){console.error("Error setting active open house:",e),j({variant:"destructive",title:"Update Failed",description:"Could not update the active open house. Please try again."})}},Y=async e=>{e&&M&&await W(M),_(!1),F(null)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"w-full mx-auto space-y-8",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"Dashboard"}),(0,o.jsx)("p",{className:"text-muted-foreground",children:"An overview of your open house activity."})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[(0,o.jsx)(f.Zp,{asChild:!0,children:(0,o.jsxs)(p(),{href:"/user/my-leads",children:[(0,o.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,o.jsx)(f.ZB,{className:"text-sm font-medium",children:"New Leads (7d)"}),(0,o.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,o.jsx)(f.Wu,{children:(0,o.jsx)("div",{className:"text-2xl font-bold",children:m?"...":z})})]})}),(0,o.jsx)(f.Zp,{asChild:!0,className:`${Z?"bg-green-50 border-green-200 dark:bg-green-950/50 dark:border-green-800":""}`,children:(0,o.jsxs)(p(),{href:Z?`/user/open-house/${Z.id}`:"/user/dashboard",children:[(0,o.jsxs)(f.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,o.jsx)(f.ZB,{className:"text-sm font-medium",children:"Active Open House"}),(0,o.jsx)(I,{className:"h-4 w-4 text-muted-foreground"})]}),(0,o.jsx)(f.Wu,{children:m?(0,o.jsx)("div",{className:"text-lg font-bold",children:"..."}):Z?(0,o.jsx)("div",{className:"text-lg font-bold truncate",title:Z.address,children:Z.address.split(",")[0]}):(0,o.jsx)("div",{className:"text-lg font-bold",children:"None"})})]})})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 gap-8 items-start",children:[(0,o.jsxs)(f.Zp,{children:[(0,o.jsx)(f.aR,{children:(0,o.jsx)(f.ZB,{children:"Create a New Open House"})}),(0,o.jsx)(f.Wu,{children:(0,o.jsx)(y.lV,{...U,children:(0,o.jsxs)("form",{onSubmit:U.handleSubmit(B),className:"flex flex-col sm:flex-row items-start gap-4",children:[(0,o.jsx)(y.zB,{control:U.control,name:"address",render:({field:e})=>(0,o.jsxs)(y.eI,{className:"flex-grow relative form-item-container w-full",children:[(0,o.jsx)(y.lR,{className:"sr-only",children:"Address"}),(0,o.jsx)(y.MJ,{children:(0,o.jsx)(N.p,{placeholder:"123 Main St, Anytown, USA",...e,ref:G})}),(0,o.jsx)(y.C5,{className:"pt-2"})]})}),(0,o.jsx)(c.$,{type:"submit",disabled:U.formState.isSubmitting,className:"w-full sm:w-auto",children:U.formState.isSubmitting?"Creating...":"Create"})]})})})]}),(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold tracking-tight font-headline",children:"Your Open Houses"}),(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsxs)(ea,{children:[(0,o.jsx)(ei,{asChild:!0,children:(0,o.jsx)(c.$,{variant:"outline",size:"icon",children:(0,o.jsx)(O,{className:"h-4 w-4"})})}),(0,o.jsx)(eb,{className:"w-80",align:"end",children:(0,o.jsxs)("div",{className:"grid gap-4",children:[(0,o.jsxs)("div",{className:"space-y-2",children:[(0,o.jsx)("h4",{className:"font-medium leading-none",children:"Search"}),(0,o.jsx)("p",{className:"text-sm text-muted-foreground",children:"Find an open house by its address."})]}),(0,o.jsx)(N.p,{id:"search",placeholder:"Search by address...",value:b,onChange:e=>k(e.target.value),className:"h-9"})]})})]}),(0,o.jsxs)(ea,{children:[(0,o.jsx)(ei,{asChild:!0,children:(0,o.jsx)(c.$,{variant:"outline",size:"icon",children:(0,o.jsx)(q,{className:"h-4 w-4"})})}),(0,o.jsx)(eb,{className:"w-48",align:"end",children:(0,o.jsxs)("div",{className:"grid gap-4",children:[(0,o.jsx)("div",{className:"space-y-2",children:(0,o.jsx)("h4",{className:"font-medium leading-none",children:"Sort by"})}),(0,o.jsxs)(R.l6,{value:S,onValueChange:e=>D(e),children:[(0,o.jsx)(R.bq,{className:"h-9",children:(0,o.jsx)(R.yv,{placeholder:"Sort by"})}),(0,o.jsxs)(R.gC,{children:[(0,o.jsx)(R.eb,{value:"newest",children:"Newest first"}),(0,o.jsx)(R.eb,{value:"oldest",children:"Oldest first"})]})]})]})})]})]})]}),m?(0,o.jsx)("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:(0,o.jsx)("p",{className:"text-muted-foreground",children:"Loading your open houses..."})}):T.length>0?(0,o.jsx)("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:T.map(e=>(0,o.jsx)(w,{openHouse:e,leadCount:a.get(e.id)||0,feedbackCount:h.get(e.id)||0,onSetActive:W},e.id))}):(0,o.jsxs)("div",{className:"text-center py-16 border-2 border-dashed rounded-lg",children:[(0,o.jsx)("h3",{className:"text-xl font-medium",children:"No Open Houses Found"}),(0,o.jsx)("p",{className:"text-muted-foreground mt-2",children:b?"Try a different search term.":"Use the form above to create your first listing."})]})]})]})]}),(0,o.jsx)(E.Lt,{open:H,onOpenChange:_,children:(0,o.jsxs)(E.EO,{children:[(0,o.jsxs)(E.wd,{children:[(0,o.jsx)(E.r7,{children:"New Open House Created"}),(0,o.jsx)(E.$v,{children:"Would you like to make this new listing the active open house for your QR code?"})]}),(0,o.jsxs)(E.ck,{children:[(0,o.jsx)(E.Zr,{onClick:()=>Y(!1),children:"Not now"}),(0,o.jsx)(E.Rx,{onClick:()=>Y(!0),children:"Yes, make it active"})]})]})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66123:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/user/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/user/dashboard/page.tsx","default")},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},93013:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(60687);t(43210);var a=t(16189),o=t(68504),n=t(33870),i=t(76113),l=t(96556),d=t(29523),c=t(30474),u=t(85814),p=t.n(u);function h({children:e}){let{user:r,loading:t}=(0,o.A)();return((0,a.useRouter)(),t||!r)?(0,s.jsx)("div",{className:"flex min-h-screen w-full flex-col items-center justify-center bg-background",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Verifying authentication..."})}):(0,s.jsx)(n.GB,{children:(0,s.jsxs)("div",{className:"flex min-h-screen w-full",children:[(0,s.jsx)(i.z,{}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,s.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-sidebar px-4 sm:h-auto sm:border-0 sm:bg-transparent sm:px-6 md:hidden",children:[(0,s.jsx)(n.x2,{asChild:!0,children:(0,s.jsxs)(d.$,{variant:"ghost",size:"icon",className:"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Menu"})]})}),(0,s.jsx)(p(),{href:"/user/dashboard",className:"flex items-center gap-2 text-lg font-semibold md:text-base font-headline text-sidebar-foreground",children:(0,s.jsx)(c.default,{src:"https://firebasestorage.googleapis.com/v0/b/openhouse-dashboard.firebasestorage.app/o/RMOHbug%20white.png?alt=media",alt:"RateMyOpenHouse.com Logo",width:150,height:40,className:"w-auto h-8","data-ai-hint":"app logo white"})})]}),(0,s.jsx)("main",{className:"flex-1 p-4 sm:p-6",children:e}),(0,s.jsx)("footer",{className:"py-4 px-6 mt-auto",children:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(c.default,{src:"https://firebasestorage.googleapis.com/v0/b/openhouse-dashboard.firebasestorage.app/o/RMOHbug.png?alt=media",alt:"RateMyOpenHouse.com Icon",width:40,height:40,className:"h-8 w-auto opacity-50","data-ai-hint":"app icon"})})})]})]})})}},94735:e=>{"use strict";e.exports=require("events")},95544:(e,r,t)=>{Promise.resolve().then(t.bind(t,48827))},96834:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(60687);t(43210);var a=t(24224),o=t(4780);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,o.cn)(n({variant:r}),e),...t})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,724,16,306,814,520,377,840,300,999,244,470],()=>t(42896));module.exports=s})();