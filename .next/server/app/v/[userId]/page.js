(()=>{var e={};e.id=94,e.ids=[94],e.modules={43:(e,t,r)=>{"use strict";r.d(t,{jH:()=>o});var s=r(43210);r(60687);var a=s.createContext(void 0);function o(e){let t=s.useContext(a);return e||t||"ltr"}},77:(e,t,r)=>{Promise.resolve().then(r.bind(r,63634))},916:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},2285:(e,t,r)=>{Promise.resolve().then(r.bind(r,2890))},2890:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/user/studio/src/app/v/[userId]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/user/studio/src/app/v/[userId]/page.tsx","default")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6475:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return o},findSourceMapURL:function(){return a.findSourceMapURL}});let s=r(11264),a=r(11448),o=r(19357).createServerReference},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17616:(e,t,r)=>{"use strict";r.d(t,{L0:()=>c,Nd:()=>i,ZX:()=>d});var s=r(91199);r(42087);var a=r(41635),o=r(33331);let n=process.env.SMTP_HOST&&process.env.SMTP_PORT&&process.env.SMTP_USER&&process.env.SMTP_PASS&&process.env.SMTP_FROM_EMAIL?a.createTransport({host:process.env.SMTP_HOST,port:parseInt(process.env.SMTP_PORT||"587",10),secure:"465"===(process.env.SMTP_PORT||"587"),auth:{user:process.env.SMTP_USER,pass:process.env.SMTP_PASS}}):null;function l(){return`
        <tr>
            <td style="padding: 30px 30px 20px 30px;" align="center">
                <a href="https://ratemyopenhouse.com/" target="_blank">
                    <img src="https://firebasestorage.googleapis.com/v0/b/openhouse-dashboard.firebasestorage.app/o/RMOHbug.png?alt=media" alt="RateMyOpenHouse.com" width="40" style="display: block; opacity: 0.5;" />
                </a>
            </td>
        </tr>
    `}async function i(e){if(!n)throw console.error("SMTP not configured. Cannot send email."),Error("SMTP not configured on the server.");let t=e.openHouseAddress?`Thank you for visiting ${e.openHouseAddress}`:`A gift from ${e.sender.name}`,r=function({recipientName:e,sender:t,message:r,brandCode:s,amountInCents:a,claimUrl:o,openHouseAddress:n}){let i=(a/100).toFixed(2),d=s.charAt(0).toUpperCase()+s.slice(1).replace(/([A-Z])/g," $1").trim(),c=n?`Thank you for visiting the open house at <strong>${n}</strong>! As a token of our appreciation, ${t.name} has sent you a <strong>$${i} ${d} gift card</strong>.`:`${t.name} has sent you a <strong>$${i} ${d} gift card</strong>.`,u=function(e){let t=!!e.personalLogoUrl,r=!!e.brokerageLogoUrl;return`
    <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse;">
      <tr>
        <td style="padding: 20px 0 0 0;">
          <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse;">
            <tr>
              ${e.photoURL?`
              <td width="80" valign="top">
                <img src="${e.photoURL}" alt="${e.name}" width="80" height="80" style="display: block; border-radius: 50%;" />
              </td>`:""}
              <td style="font-size: 0; line-height: 0;" width="25">&nbsp;</td>
              <td width="100%" valign="middle" style="font-family: Arial, sans-serif; font-size: 14px; line-height: 20px;">
                <p style="margin: 0; color: #333333;"><strong>${e.name}</strong></p>
                ${e.title?`<p style="margin: 0; color: #555555;">${e.title}</p>`:""}
                ${e.brokerageName?`<p style="margin: 0; color: #555555;">${e.brokerageName}</p>`:""}
                ${e.phone?`<p style="margin: 0; color: #555555;">${e.phone}</p>`:""}
                ${e.email?`<p style="margin: 0;"><a href="mailto:${e.email}" style="color: #3b82f6; text-decoration: none;">${e.email}</a></p>`:""}
              </td>
            </tr>
          </table>
        </td>
      </tr>
      ${t||r?`
      <tr>
        <td style="padding: 20px 0 0 0;">
          <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse;">
            <tr>
              ${t?`<td align="center" style="padding: 0 10px 0 0;"><img src="${e.personalLogoUrl}" alt="Personal Logo" style="display: block; max-width: 120px; max-height: 60px; height: auto;"/></td>`:""}
              ${r?`<td align="center" style="padding: 0 0 0 10px;"><img src="${e.brokerageLogoUrl}" alt="Brokerage Logo" style="display: block; max-width: 120px; max-height: 60px; height: auto;"/></td>`:""}
            </tr>
          </table>
        </td>
      </tr>`:""}
    </table>
  `}(t),p=l();return`
    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A gift for you!</title>
    </head>
    <body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr>
          <td style="padding: 20px 0;">
            <table align="center" border="0" cellpadding="0" cellspacing="0" width="600" style="border-collapse: collapse; background-color: #ffffff; border: 1px solid #cccccc; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
              <tr>
                <td align="center" style="padding: 40px 20px; border-bottom: 1px solid #eeeeee;">
                  <h1 style="color: #333333; margin: 0;">You've Received a Gift!</h1>
                </td>
              </tr>
              <tr>
                <td style="padding: 30px;">
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">Hi ${e},</p>
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">${c}</p>
                  ${r?`
                  <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; margin: 20px 0;">
                    <tr>
                      <td style="background-color: #f9f9f9; border-left: 4px solid #3b82f6; padding: 15px;">
                        <p style="margin: 0; font-style: italic; color: #555555;">"${r}"</p>
                      </td>
                    </tr>
                  </table>
                  `:""}
                  <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; text-align: center; margin-top: 30px;">
                    <tr>
                      <td>
                        <a href="${o}" style="background-color: #3b82f6; color: #ffffff; padding: 15px 25px; text-decoration: none; border-radius: 5px; display: inline-block; font-weight: bold; font-size: 16px;">Claim My Gift</a>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              <tr>
                <td align="center" style="padding: 0 30px 30px 30px;">
                  <table border="0" cellpadding="0" cellspacing="0" width="80%" style="border-collapse: collapse;">
                    <tr>
                      <td>
                        ${u}
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              ${p}
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
  `}(e);try{let s=await n.sendMail({from:`"${e.sender.name}" <${process.env.SMTP_FROM_EMAIL}>`,replyTo:e.sender.email,to:e.recipientEmail,subject:t,html:r});return console.log("Message sent: %s",s.messageId),s}catch(e){throw console.error("Error sending gift email: ",e),Error("Failed to send the gift email.")}}async function d(e){if(!n)return void console.warn("SMTP not configured. Skipping new lead email.");try{await n.sendMail({from:`"RateMyOpenHouse Notifications" <${process.env.SMTP_FROM_EMAIL}>`,to:e.user.email,subject:`New Lead from ${e.openHouseAddress}`,html:function({user:e,lead:t,openHouseAddress:r}){let s=process.env.NEXT_PUBLIC_SITE_URL||"https://ratemyopenhouse.com",a=l();return`
    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Lead Notification</title>
    </head>
    <body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr>
          <td style="padding: 20px 0;">
            <table align="center" border="0" cellpadding="0" cellspacing="0" width="600" style="border-collapse: collapse; background-color: #ffffff; border: 1px solid #cccccc; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
              <tr>
                <td align="center" style="padding: 20px; border-bottom: 1px solid #eeeeee;">
                  <img src="https://firebasestorage.googleapis.com/v0/b/openhouse-dashboard.firebasestorage.app/o/RMOH%20Logo.png?alt=media" alt="RateMyOpenHouse.com Logo" width="150" style="display: block;" />
                </td>
              </tr>
              <tr>
                <td style="padding: 30px;">
                  <h1 style="color: #333333; margin: 0 0 20px 0;">You Have a New Lead!</h1>
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">Hi ${e.name},</p>
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">
                    A new lead was just captured from your open house at <strong>${r}</strong>.
                  </p>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; margin: 20px 0; background-color: #f9f9f9; border: 1px solid #eeeeee; border-radius: 4px;">
                     <tr><td style="padding: 10px 15px;"><strong>Name:</strong> ${t.name}</td></tr>
                     ${t.email?`<tr><td style="padding: 10px 15px; border-top: 1px solid #eeeeee;"><strong>Email:</strong> ${t.email}</td></tr>`:""}
                     ${t.phone?`<tr><td style="padding: 10px 15px; border-top: 1px solid #eeeeee;"><strong>Phone:</strong> ${t.phone}</td></tr>`:""}
                  </table>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; text-align: center; margin-top: 30px;">
                    <tr>
                      <td>
                        <a href="${s}/user/my-leads" style="background-color: #3b82f6; color: #ffffff; padding: 15px 25px; text-decoration: none; border-radius: 5px; display: inline-block; font-weight: bold; font-size: 16px;">View All Leads</a>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              ${a}
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
    `}(e)})}catch(e){console.error("Error sending new lead email:",e)}}async function c(e){if(!n)return void console.warn("SMTP not configured. Skipping low balance email.");try{await n.sendMail({from:`"RateMyOpenHouse Notifications" <${process.env.SMTP_FROM_EMAIL}>`,to:e.user.email,subject:"Your RateMyOpenHouse Balance is Low",html:function({user:e,currentBalanceInCents:t}){let r=process.env.NEXT_PUBLIC_SITE_URL||"https://ratemyopenhouse.com",s=(t/100).toFixed(2),a=l();return`
    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Low Balance Alert</title>
    </head>
    <body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4;">
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tr>
          <td style="padding: 20px 0;">
            <table align="center" border="0" cellpadding="0" cellspacing="0" width="600" style="border-collapse: collapse; background-color: #ffffff; border: 1px solid #cccccc; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
               <tr>
                <td align="center" style="padding: 20px; border-bottom: 1px solid #eeeeee;">
                  <img src="https://firebasestorage.googleapis.com/v0/b/openhouse-dashboard.firebasestorage.app/o/RMOH%20Logo.png?alt=media" alt="RateMyOpenHouse.com Logo" width="150" style="display: block;" />
                </td>
              </tr>
              <tr>
                <td style="padding: 30px;">
                  <h1 style="color: #333333; margin: 0 0 20px 0;">Low Balance Alert</h1>
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">Hi ${e.name},</p>
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">
                    This is an alert to let you know that your available balance is running low. Your current balance is <strong>$${s}</strong>.
                  </p>
                  <p style="color: #555555; font-size: 16px; line-height: 1.5;">
                    Please add more funds to your account to ensure your gift automations continue to run without interruption.
                  </p>
                  <table border="0" cellpadding="0" cellspacing="0" width="100%" style="border-collapse: collapse; text-align: center; margin-top: 30px;">
                    <tr>
                      <td>
                        <a href="${r}/user/billing" style="background-color: #3b82f6; color: #ffffff; padding: 15px 25px; text-decoration: none; border-radius: 5px; display: inline-block; font-weight: bold; font-size: 16px;">Add Funds</a>
                      </td>
                    </tr>
                  </table>
                </td>
              </tr>
              ${a}
            </table>
          </td>
        </tr>
      </table>
    </body>
    </html>
    `}(e)})}catch(e){console.error("Error sending low balance email:",e)}}(0,o.D)([i,d,c]),(0,s.A)(i,"403732b4bcba6814236cbac0afc3cae4061289e231",null),(0,s.A)(d,"404edea5deb8add4e76902d923e4f5272f44f3c779",null),(0,s.A)(c,"40ba9832def9f155118ad6775009bef44e72d34956",null)},18853:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var s=r(43210),a=r(66156);function o(e){let[t,r]=s.useState(void 0);return(0,a.N)(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,a;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,a=t.blockSize}else s=e.offsetWidth,a=e.offsetHeight;r({width:s,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},24026:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},27247:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29523:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>i});var s=r(60687),a=r(43210),o=r(11329),n=r(24224),l=r(4780);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},d)=>{let c=a?o.DX:"button";return(0,s.jsx)(c,{className:(0,l.cn)(i({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},29688:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(65239),a=r(48088),o=r(88170),n=r.n(o),l=r(30893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d={children:["",{children:["v",{children:["[userId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2890)),"/home/user/studio/src/app/v/[userId]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,61137)),"/home/user/studio/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/user/studio/src/app/v/[userId]/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/v/[userId]/page",pathname:"/v/[userId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},30474:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(31261),a=r.n(s)},31261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return l}});let s=r(14985),a=r(44953),o=r(46533),n=s._(r(1933));function l(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=o.Image},32584:(e,t,r)=>{"use strict";r.d(t,{BK:()=>i,eu:()=>l,q5:()=>d});var s=r(60687),a=r(43210),o=r(92951),n=r(4780);let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.bL,{ref:r,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));l.displayName=o.bL.displayName;let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o._V,{ref:r,className:(0,n.cn)("aspect-square h-full w-full object-cover",e),...t}));i.displayName=o._V.displayName;let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.H4,{ref:r,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));d.displayName=o.H4.displayName},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34729:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var s=r(60687),a=r(43210),o=r(4780);let n=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));n.displayName="Textarea"},35950:(e,t,r)=>{"use strict";r.d(t,{w:()=>l});var s=r(60687),a=r(43210),o=r(62369),n=r(4780);let l=a.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},l)=>(0,s.jsx)(o.b,{ref:l,decorative:r,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));l.displayName=o.b.displayName},36652:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"403732b4bcba6814236cbac0afc3cae4061289e231":()=>s.Nd,"404edea5deb8add4e76902d923e4f5272f44f3c779":()=>s.ZX,"40ba9832def9f155118ad6775009bef44e72d34956":()=>s.L0});var s=r(17616)},37366:e=>{"use strict";e.exports=require("dns")},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>u,ZB:()=>d,Zp:()=>l,aR:()=>i,wL:()=>p});var s=r(60687),a=r(43210),o=r(11329),n=r(4780);let l=a.forwardRef(({className:e,asChild:t=!1,...r},a)=>{let l=t?o.DX:"div";return(0,s.jsx)(l,{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r})});l.displayName="Card";let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));u.displayName="CardContent";let p=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},45338:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Contact",[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58450:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},62369:(e,t,r)=>{"use strict";r.d(t,{b:()=>d});var s=r(43210),a=r(3416),o=r(60687),n="horizontal",l=["horizontal","vertical"],i=s.forwardRef((e,t)=>{var r;let{decorative:s,orientation:i=n,...d}=e,c=(r=i,l.includes(r))?i:n;return(0,o.jsx)(a.sG.div,{"data-orientation":c,...s?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:t})});i.displayName="Separator";var d=i},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63634:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eS});var s=r(60687),a=r(43210),o=r(16189),n=r(30474),l=r(75535),i=r(50944),d=r(27605),c=r(63442),u=r(45880),p=r(29523),f=r(44493),m=r(89667),x=r(34729),h=r(70569),g=r(98599),b=r(11273),v=r(3416),y=r(72942),w=r(65551),j=r(43),N=r(18853),k=r(83721),R=r(46059),S="Radio",[A,C]=(0,b.A)(S),[$,L]=A(S),I=a.forwardRef((e,t)=>{let{__scopeRadio:r,name:o,checked:n=!1,required:l,disabled:i,value:d="on",onCheck:c,form:u,...p}=e,[f,m]=a.useState(null),x=(0,g.s)(t,e=>m(e)),b=a.useRef(!1),y=!f||u||!!f.closest("form");return(0,s.jsxs)($,{scope:r,checked:n,disabled:i,children:[(0,s.jsx)(v.sG.button,{type:"button",role:"radio","aria-checked":n,"data-state":T(n),"data-disabled":i?"":void 0,disabled:i,value:d,...p,ref:x,onClick:(0,h.m)(e.onClick,e=>{n||c?.(),y&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),y&&(0,s.jsx)(E,{control:f,bubbles:!b.current,name:o,value:d,checked:n,required:l,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});I.displayName=S;var P="RadioIndicator",M=a.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:a,...o}=e,n=L(P,r);return(0,s.jsx)(R.C,{present:a||n.checked,children:(0,s.jsx)(v.sG.span,{"data-state":T(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t})})});M.displayName=P;var E=e=>{let{control:t,checked:r,bubbles:o=!0,...n}=e,l=a.useRef(null),i=(0,k.Z)(r),d=(0,N.X)(t);return a.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==r&&t){let s=new Event("click",{bubbles:o});t.call(e,r),e.dispatchEvent(s)}},[i,r,o]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:l,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T(e){return e?"checked":"unchecked"}var _=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],F="RadioGroup",[z,q]=(0,b.A)(F,[y.RG,C]),H=(0,y.RG)(),U=C(),[D,B]=z(F),O=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:a,defaultValue:o,value:n,required:l=!1,disabled:i=!1,orientation:d,dir:c,loop:u=!0,onValueChange:p,...f}=e,m=H(r),x=(0,j.jH)(c),[h,g]=(0,w.i)({prop:n,defaultProp:o,onChange:p});return(0,s.jsx)(D,{scope:r,name:a,required:l,disabled:i,value:h,onValueChange:g,children:(0,s.jsx)(y.bL,{asChild:!0,...m,orientation:d,dir:x,loop:u,children:(0,s.jsx)(v.sG.div,{role:"radiogroup","aria-required":l,"aria-orientation":d,"data-disabled":i?"":void 0,dir:x,...f,ref:t})})})});O.displayName=F;var G="RadioGroupItem",V=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:o,...n}=e,l=B(G,r),i=l.disabled||o,d=H(r),c=U(r),u=a.useRef(null),p=(0,g.s)(t,u),f=l.value===n.value,m=a.useRef(!1);return a.useEffect(()=>{let e=e=>{_.includes(e.key)&&(m.current=!0)},t=()=>m.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,s.jsx)(y.q7,{asChild:!0,...d,focusable:!i,active:f,children:(0,s.jsx)(I,{disabled:i,required:l.required,checked:f,...c,...n,name:l.name,ref:p,onCheck:()=>l.onValueChange(n.value),onKeyDown:(0,h.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,h.m)(n.onFocus,()=>{m.current&&u.current?.click()})})})});V.displayName=G;var Z=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...a}=e,o=U(r);return(0,s.jsx)(M,{...o,...a,ref:t})});Z.displayName="RadioGroupIndicator";var Y=r(73256),K=r(4780);let X=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(O,{className:(0,K.cn)("grid gap-2",e),...t,ref:r}));X.displayName=O.displayName;let W=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(V,{ref:r,className:(0,K.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(Z,{className:"flex items-center justify-center",children:(0,s.jsx)(Y.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}));W.displayName=V.displayName;var J="Checkbox",[Q,ee]=(0,b.A)(J),[et,er]=Q(J),es=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:o,checked:n,defaultChecked:l,required:i,disabled:d,value:c="on",onCheckedChange:u,form:p,...f}=e,[m,x]=a.useState(null),b=(0,g.s)(t,e=>x(e)),y=a.useRef(!1),j=!m||p||!!m.closest("form"),[N=!1,k]=(0,w.i)({prop:n,defaultProp:l,onChange:u}),R=a.useRef(N);return a.useEffect(()=>{let e=m?.form;if(e){let t=()=>k(R.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[m,k]),(0,s.jsxs)(et,{scope:r,state:N,disabled:d,children:[(0,s.jsx)(v.sG.button,{type:"button",role:"checkbox","aria-checked":el(N)?"mixed":N,"aria-required":i,"data-state":ei(N),"data-disabled":d?"":void 0,disabled:d,value:c,...f,ref:b,onKeyDown:(0,h.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,h.m)(e.onClick,e=>{k(e=>!!el(e)||!e),j&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),j&&(0,s.jsx)(en,{control:m,bubbles:!y.current,name:o,value:c,checked:N,required:i,disabled:d,form:p,style:{transform:"translateX(-100%)"},defaultChecked:!el(l)&&l})]})});es.displayName=J;var ea="CheckboxIndicator",eo=a.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:a,...o}=e,n=er(ea,r);return(0,s.jsx)(R.C,{present:a||el(n.state)||!0===n.state,children:(0,s.jsx)(v.sG.span,{"data-state":ei(n.state),"data-disabled":n.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});eo.displayName=ea;var en=e=>{let{control:t,checked:r,bubbles:o=!0,defaultChecked:n,...l}=e,i=a.useRef(null),d=(0,k.Z)(r),c=(0,N.X)(t);a.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let s=new Event("click",{bubbles:o});e.indeterminate=el(r),t.call(e,!el(r)&&r),e.dispatchEvent(s)}},[d,r,o]);let u=a.useRef(!el(r)&&r);return(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...l,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function el(e){return"indeterminate"===e}function ei(e){return el(e)?"indeterminate":e?"checked":"unchecked"}var ed=r(58450);let ec=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(es,{ref:r,className:(0,K.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,s.jsx)(eo,{className:(0,K.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(ed.A,{className:"h-4 w-4"})})}));ec.displayName=es.displayName;var eu=r(71669),ep=r(29867),ef=r(916),em=r(82614);let ex=(0,em.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var eh=r(24026);let eg=(0,em.A)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var eb=r(27247);let ev=(0,em.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var ey=r(45338),ew=r(35950),ej=r(32584),eN=r(6475);let ek=(0,eN.createServerReference)("404edea5deb8add4e76902d923e4f5272f44f3c779",eN.callServer,void 0,eN.findSourceMapURL,"sendNewLeadEmail"),eR=u.Ik({name:u.Yj().min(2,"Please enter your name."),email:u.Yj().email("Please enter a valid email address.").optional().or(u.eu("")),phone:u.Yj().optional()}).refine(e=>e.email||e.phone,{message:"Please provide either an email or a phone number.",path:["email"]});function eS(){let{userId:e}=(0,o.useParams)(),{toast:t}=(0,ep.dj)(),[r,u]=(0,a.useState)("welcome"),[h,g]=(0,a.useState)(!0),[b,v]=(0,a.useState)(null),[y,w]=(0,a.useState)(null),[j,N]=(0,a.useState)(null),[k,R]=(0,a.useState)(null),[S,A]=(0,a.useState)(null);(0,a.useCallback)(async()=>{if(u("welcome"),v(null),g(!0),!e||"string"!=typeof e){v("Invalid link: No user ID provided."),g(!1);return}try{let t=(0,l.query)((0,l.collection)(i.db,"openHouses"),(0,l.where)("userId","==",e),(0,l.where)("isActive","==",!0),(0,l.AB)(1)),r=await (0,l.getDocs)(t);if(r.empty){v("This agent does not have an active open house at this time.");let t=(0,l.H9)(i.db,"users",e),r=await (0,l.x7)(t);r.exists()&&w(r.data()),g(!1);return}let s={id:r.docs[0].id,...r.docs[0].data()};N(s);let a=(0,l.H9)(i.db,"users",e),o=await (0,l.x7)(a);if(o.exists()&&w(o.data()),s.feedbackFormId){let e=(0,l.H9)(i.db,"feedbackForms",s.feedbackFormId),t=await (0,l.x7)(e);t.exists()?R({id:t.id,...t.data()}):v("The assigned feedback form for this open house could not be found.")}else v("No feedback form has been assigned to this open house.")}catch(e){console.error("Error fetching data:",e),v("An error occurred while loading the page.")}finally{g(!1)}},[e]);let C=(0,d.mN)(),$=(0,d.mN)({resolver:(0,c.u)(eR),defaultValues:{name:"",email:"",phone:""}}),L=()=>{u("form")};async function I(e){if(!j||!k)return;let r=k.questions.map(t=>({questionId:t.id,questionText:t.text,questionType:t.type,answer:e[t.id]}));try{let e=await (0,l.gS)((0,l.collection)(i.db,"feedbackSubmissions"),{userId:j.userId,openHouseId:j.id,formId:k.id,submittedAt:l.Dc.now(),answers:r});A(e.id),u("lead")}catch(e){console.error("Error submitting feedback:",e),t({variant:"destructive",title:"Submission Failed",description:"Your feedback could not be saved. Please try again."})}}async function P(e){if(j&&y)try{let t=e.email?.toLowerCase(),r=e.phone?.replace(/\D/g,""),s={...e,email:t,phone:r,userId:j.userId,openHouseId:j.id,createdAt:l.Dc.now(),feedbackSubmissionId:S,status:"active"},a=await (0,l.gS)((0,l.collection)(i.db,"leads"),s);await ek({user:y,lead:{id:a.id,...s},openHouseAddress:j.address}),u("thankyou")}catch(e){console.error("Error adding lead:",e),t({variant:"destructive",title:"Error",description:"Could not save your information. Please try again."})}}let M=({field:e})=>{let[t,r]=(0,a.useState)(0),o=e.value||0;return(0,s.jsx)("div",{className:"flex items-center gap-2",children:[void 0,void 0,void 0,void 0,void 0].map((a,n)=>{let l=n+1;return(0,s.jsx)(ef.A,{className:(0,K.cn)("h-10 w-10 cursor-pointer transition-colors sm:h-12 sm:w-12",l<=(t||o)?"text-yellow-500 fill-yellow-400":"text-muted-foreground/50"),onClick:()=>e.onChange(l),onMouseEnter:()=>r(l),onMouseLeave:()=>r(0)},l)})})},E=e=>{let t=e.id;switch(e.type){case"short-answer":return(0,s.jsx)(eu.zB,{control:C.control,name:t,defaultValue:"",render:({field:e})=>(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(eu.MJ,{children:(0,s.jsx)(x.T,{placeholder:"Your answer...",...e,className:"text-base"})}),(0,s.jsx)(eu.C5,{})]})});case"yes-no":return(0,s.jsx)(eu.zB,{control:C.control,name:t,render:({field:e})=>(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(eu.MJ,{children:(0,s.jsxs)(X,{onValueChange:e.onChange,value:e.value,className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(W,{value:"Yes",id:`${t}-yes`,className:"peer sr-only"}),(0,s.jsx)(eu.lR,{htmlFor:`${t}-yes`,className:"flex h-16 w-full items-center justify-center rounded-md border-2 border-muted bg-popover p-4 text-base font-semibold hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-accent peer-data-[state=checked]:text-accent-foreground",children:"Yes"})]}),(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(W,{value:"No",id:`${t}-no`,className:"peer sr-only"}),(0,s.jsx)(eu.lR,{htmlFor:`${t}-no`,className:"flex h-16 w-full items-center justify-center rounded-md border-2 border-muted bg-popover p-4 text-base font-semibold hover:bg-accent hover:text-accent-foreground peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-accent peer-data-[state=checked]:text-accent-foreground",children:"No"})]})]})}),(0,s.jsx)(eu.C5,{})]})});case"rating":return(0,s.jsx)(eu.zB,{control:C.control,name:t,defaultValue:0,render:({field:e})=>(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(eu.MJ,{children:(0,s.jsx)(M,{field:e})}),(0,s.jsx)(eu.C5,{})]})});case"multiple-choice":return(0,s.jsx)(eu.zB,{control:C.control,name:t,defaultValue:[],render:({field:r})=>(0,s.jsxs)(eu.eI,{className:"space-y-3",children:[e.options?.map(e=>(0,s.jsx)(eu.zB,{control:C.control,name:t,render:({field:t})=>(0,s.jsxs)(eu.eI,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,s.jsx)(eu.MJ,{children:(0,s.jsx)(ec,{className:"h-6 w-6",checked:t.value?.includes(e.value),onCheckedChange:r=>r?t.onChange([...t.value||[],e.value]):t.onChange(t.value?.filter(t=>t!==e.value))})}),(0,s.jsx)(eu.lR,{className:"font-normal text-base",children:e.value})]},e.id)},e.id)),(0,s.jsx)(eu.C5,{})]})});default:return null}},T=e=>{if(!e)return"";let t=e.replace(/\D/g,"");return 10!==t.length?e:`(${t.substring(0,3)}) ${t.substring(3,6)}-${t.substring(6,10)}`},_=e=>{if(!e)return"??";let t=e.split(" ");return t.length>1?(t[0][0]+t[t.length-1][0]).toUpperCase():e.substring(0,2).toUpperCase()},F=()=>{if(!y)return;let e=new Blob([["BEGIN:VCARD","VERSION:3.0",`FN:${y.name||""}`,...y.phone?[`TEL;TYPE=CELL:${y.phone}`]:[],...y.email?[`EMAIL:${y.email}`]:[],...y.brokerageName?[`ORG:${y.brokerageName}`]:[],"END:VCARD"].join("\n")],{type:"text/vcard;charset=utf-8;"}),t=document.createElement("a");t.href=URL.createObjectURL(e);let r=(y.name||"contact").replace(/[^a-z0-9]/gi,"_").toLowerCase();t.download=`${r}.vcf`,document.body.appendChild(t),t.click(),document.body.removeChild(t)};return(0,s.jsx)("div",{className:"min-h-screen w-full bg-muted flex flex-col items-center justify-center p-4",children:(()=>{if(h)return(0,s.jsx)(f.Zp,{className:"w-full max-w-lg",children:(0,s.jsx)(f.Wu,{className:"pt-6",children:(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"Loading..."})})});if(b||!j)return(0,s.jsxs)(f.Zp,{className:"w-full max-w-lg",children:[(0,s.jsxs)(f.aR,{className:"items-center text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"bg-destructive/10 h-16 w-16 rounded-full flex items-center justify-center",children:(0,s.jsx)(ex,{className:"h-10 w-10 text-destructive"})})}),(0,s.jsx)(f.ZB,{children:"Something went wrong"})]}),(0,s.jsxs)(f.Wu,{className:"text-center",children:[(0,s.jsx)("p",{className:"text-destructive",children:b||"Could not load the open house details."}),y&&(0,s.jsxs)("div",{className:"mt-6 text-sm text-muted-foreground",children:[(0,s.jsx)("p",{children:"This link belongs to:"}),(0,s.jsx)("p",{className:"font-semibold text-foreground",children:y.name}),(0,s.jsx)("p",{children:y.email})]})]})]});let e="",t="";if(j.structuredAddress)e=`${j.structuredAddress.streetNumber} ${j.structuredAddress.streetName}${j.structuredAddress.unitNumber?` #${j.structuredAddress.unitNumber}`:""}`,t=`${j.structuredAddress.city}, ${j.structuredAddress.state} ${j.structuredAddress.zipCode}`;else{let r=j.address.split(",");e=r[0],r.length>1&&(t=r.slice(1).join(",").trim())}switch(r){case"welcome":return(0,s.jsxs)(f.Zp,{className:"w-full max-w-lg overflow-hidden",children:[(0,s.jsxs)(f.aR,{className:"items-center text-center p-0",children:[(0,s.jsx)("div",{className:"w-full h-48 sm:h-64 relative bg-muted",children:j.imageUrl?(0,s.jsx)(n.default,{src:j.imageUrl,alt:`Image of ${j.address}`,fill:!0,className:"object-cover","data-ai-hint":"house exterior"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(eh.A,{className:"w-16 h-16 text-muted-foreground"})})}),(0,s.jsxs)("div",{className:"p-6 pb-2 text-center",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Welcome to"}),(0,s.jsx)("h2",{className:"text-2xl font-bold mt-1",children:e}),(0,s.jsx)("p",{className:"text-muted-foreground",children:t})]})]}),(0,s.jsxs)(f.Wu,{className:"text-center px-6",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Please take a moment to provide your feedback."}),(0,s.jsx)(p.$,{size:"lg",className:"w-full mt-6",onClick:L,disabled:!k,children:k?"Get Started":"Feedback form not available"})]}),(0,s.jsx)(f.wL,{className:"flex-col gap-4 p-6 bg-muted/50 border-t",children:y&&(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Hosted by"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[y.photoURL&&(0,s.jsxs)(ej.eu,{children:[(0,s.jsx)(ej.BK,{src:y.photoURL,alt:y.name||"Realtor","data-ai-hint":"person headshot"}),(0,s.jsx)(ej.q5,{children:_(y.name)})]}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("p",{className:"font-semibold",children:y.name}),y.title&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:y.title})]})]}),y.brokerageName&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:y.brokerageName}),y.licenseNumber&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground/80 mt-1",children:y.licenseNumber})]})})]});case"form":if(!k)return null;return(0,s.jsx)(f.Zp,{className:"w-full max-w-lg",children:(0,s.jsx)(eu.lV,{...C,children:(0,s.jsxs)("form",{onSubmit:C.handleSubmit(I),children:[(0,s.jsxs)(f.aR,{children:[(0,s.jsx)(f.ZB,{children:"Welcome to"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold -mt-1",children:e}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:t})]})]}),(0,s.jsx)(f.Wu,{className:"space-y-8",children:k.questions.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)(eu.lR,{className:"font-semibold text-lg",children:[t+1,". ",e.text]}),(0,s.jsx)("div",{className:"pt-4",children:E(e)})]},e.id))}),(0,s.jsx)(f.wL,{children:(0,s.jsx)(p.$,{type:"submit",className:"w-full",size:"lg",disabled:C.formState.isSubmitting,children:C.formState.isSubmitting?"Submitting...":"Submit Feedback"})})]})})});case"lead":return(0,s.jsx)(f.Zp,{className:"w-full max-w-lg",children:(0,s.jsx)(eu.lV,{...$,children:(0,s.jsxs)("form",{onSubmit:$.handleSubmit(P),children:[(0,s.jsxs)(f.aR,{children:[(0,s.jsxs)(f.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(eg,{})," Please Sign In"]}),(0,s.jsx)(f.BT,{children:"Please provide your contact information for the agent."})]}),(0,s.jsxs)(f.Wu,{className:"space-y-4",children:[(0,s.jsx)(eu.zB,{control:$.control,name:"name",render:({field:e})=>(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(eu.lR,{children:"Full Name"}),(0,s.jsx)(eu.MJ,{children:(0,s.jsx)(m.p,{placeholder:"Jane Doe",...e})}),(0,s.jsx)(eu.C5,{})]})}),(0,s.jsx)(eu.zB,{control:$.control,name:"email",render:({field:e})=>(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(eu.lR,{children:"Email Address"}),(0,s.jsx)(eu.MJ,{children:(0,s.jsx)(m.p,{placeholder:"jane@example.com",...e})}),(0,s.jsx)(eu.C5,{})]})}),(0,s.jsx)(eu.zB,{control:$.control,name:"phone",render:({field:e})=>(0,s.jsxs)(eu.eI,{children:[(0,s.jsx)(eu.lR,{children:"Phone Number"}),(0,s.jsx)(eu.MJ,{children:(0,s.jsx)(m.p,{type:"tel",placeholder:"(555) 123-4567",...e})}),(0,s.jsx)(eu.C5,{})]})})]}),(0,s.jsxs)(f.wL,{className:"flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex w-full flex-col-reverse sm:flex-row gap-2",children:(0,s.jsxs)(p.$,{type:"submit",className:"w-full",disabled:$.formState.isSubmitting,children:[(0,s.jsx)(eg,{className:"mr-2"}),$.formState.isSubmitting?"Saving...":"Submit"]})}),(0,s.jsxs)(eu.Rr,{className:"text-xs text-center text-muted-foreground pt-2 px-6",children:["By submitting your information, you consent for ",y?.name||"the agent"," to contact you for marketing purposes."]})]})]})})});case"thankyou":return(0,s.jsxs)(f.Zp,{className:"w-full max-w-lg text-center",children:[(0,s.jsxs)(f.aR,{children:[y?.photoURL&&(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsxs)(ej.eu,{className:"h-24 w-24 border-2 border-primary",children:[(0,s.jsx)(ej.BK,{src:y.photoURL,alt:y.name||"Realtor","data-ai-hint":"person headshot"}),(0,s.jsx)(ej.q5,{children:_(y.name)})]})}),(0,s.jsx)(f.ZB,{className:"text-2xl",children:"Thank you!"}),(0,s.jsx)(f.BT,{className:"text-base",children:"Your feedback is greatly appreciated."})]}),y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(f.Wu,{className:"space-y-4",children:[(0,s.jsx)(ew.w,{}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"font-semibold text-lg",children:y.name}),y.title&&(0,s.jsx)("p",{className:"text-muted-foreground",children:y.title}),y.brokerageName&&(0,s.jsx)("p",{className:"text-muted-foreground",children:y.brokerageName})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-x-6 gap-y-2 text-sm text-muted-foreground",children:[y.email&&(0,s.jsxs)("a",{href:`mailto:${y.email}`,className:"flex items-center gap-2 hover:text-primary",children:[(0,s.jsx)(eb.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:y.email})]}),y.phone&&(0,s.jsxs)("a",{href:`tel:${y.phone}`,className:"flex items-center gap-2 hover:text-primary",children:[(0,s.jsx)(ev,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:T(y.phone)})]})]}),(y.personalLogoUrl||y.brokerageLogoUrl)&&(0,s.jsxs)("div",{className:"flex justify-center items-center gap-8 pt-4",children:[y.personalLogoUrl&&(0,s.jsx)("div",{className:"relative h-16 w-32",children:(0,s.jsx)(n.default,{src:y.personalLogoUrl,alt:"Personal logo",fill:!0,className:"object-contain","data-ai-hint":"company logo"})}),y.brokerageLogoUrl&&(0,s.jsx)("div",{className:"relative h-16 w-32",children:(0,s.jsx)(n.default,{src:y.brokerageLogoUrl,alt:`${y.brokerageName} logo`,fill:!0,className:"object-contain","data-ai-hint":"company logo"})})]}),y.licenseNumber&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground/80 pt-4",children:y.licenseNumber})]}),(0,s.jsx)(f.wL,{children:(0,s.jsxs)(p.$,{onClick:F,className:"w-full",children:[(0,s.jsx)(ey.A,{className:"mr-2"}),"Save to Contacts"]})})]})]})}})()})}},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71669:(e,t,r)=>{"use strict";r.d(t,{C5:()=>b,MJ:()=>h,Rr:()=>g,eI:()=>m,lR:()=>x,lV:()=>d,zB:()=>u});var s=r(60687),a=r(43210),o=r(11329),n=r(27605),l=r(4780),i=r(80013);let d=n.Op,c=a.createContext({}),u=({...e})=>(0,s.jsx)(c.Provider,{value:{name:e.name},children:(0,s.jsx)(n.xI,{...e})}),p=()=>{let e=a.useContext(c),t=a.useContext(f),{getFieldState:r,formState:s}=(0,n.xW)(),o=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:`${l}-form-item`,formDescriptionId:`${l}-form-item-description`,formMessageId:`${l}-form-item-message`,...o}},f=a.createContext({}),m=a.forwardRef(({className:e,...t},r)=>{let o=a.useId();return(0,s.jsx)(f.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:r,className:(0,l.cn)("space-y-2",e),...t})})});m.displayName="FormItem";let x=a.forwardRef(({className:e,...t},r)=>{let{error:a,formItemId:o}=p();return(0,s.jsx)(i.J,{ref:r,className:(0,l.cn)(a&&"text-destructive",e),htmlFor:o,...t})});x.displayName="FormLabel";let h=a.forwardRef(({...e},t)=>{let{error:r,formItemId:a,formDescriptionId:n,formMessageId:l}=p();return(0,s.jsx)(o.DX,{ref:t,id:a,"aria-describedby":r?`${n} ${l}`:`${n}`,"aria-invalid":!!r,...e})});h.displayName="FormControl";let g=a.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:a}=p();return(0,s.jsx)("p",{ref:r,id:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...t})});g.displayName="FormDescription";let b=a.forwardRef(({className:e,children:t,...r},a)=>{let{error:o,formMessageId:n}=p(),i=o?String(o?.message??""):t;return i?(0,s.jsx)("p",{ref:a,id:n,className:(0,l.cn)("text-sm font-medium text-destructive",e),...r,children:i}):null});b.displayName="FormMessage"},72942:(e,t,r)=>{"use strict";r.d(t,{RG:()=>w,bL:()=>L,q7:()=>I});var s=r(43210),a=r(70569),o=r(72031),n=r(98599),l=r(11273),i=r(96963),d=r(3416),c=r(13495),u=r(65551),p=r(43),f=r(60687),m="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},h="RovingFocusGroup",[g,b,v]=(0,o.N)(h),[y,w]=(0,l.A)(h,[v]),[j,N]=y(h),k=s.forwardRef((e,t)=>(0,f.jsx)(g.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(g.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(R,{...e,ref:t})})}));k.displayName=h;var R=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:o,loop:l=!1,dir:i,currentTabStopId:h,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:v,onEntryFocus:y,preventScrollOnEntryFocus:w=!1,...N}=e,k=s.useRef(null),R=(0,n.s)(t,k),S=(0,p.jH)(i),[A=null,C]=(0,u.i)({prop:h,defaultProp:g,onChange:v}),[L,I]=s.useState(!1),P=(0,c.c)(y),M=b(r),E=s.useRef(!1),[T,_]=s.useState(0);return s.useEffect(()=>{let e=k.current;if(e)return e.addEventListener(m,P),()=>e.removeEventListener(m,P)},[P]),(0,f.jsx)(j,{scope:r,orientation:o,dir:S,loop:l,currentTabStopId:A,onItemFocus:s.useCallback(e=>C(e),[C]),onItemShiftTab:s.useCallback(()=>I(!0),[]),onFocusableItemAdd:s.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>_(e=>e-1),[]),children:(0,f.jsx)(d.sG.div,{tabIndex:L||0===T?-1:0,"data-orientation":o,...N,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,a.m)(e.onMouseDown,()=>{E.current=!0}),onFocus:(0,a.m)(e.onFocus,e=>{let t=!E.current;if(e.target===e.currentTarget&&t&&!L){let t=new CustomEvent(m,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=M().filter(e=>e.focusable);$([e.find(e=>e.active),e.find(e=>e.id===A),...e].filter(Boolean).map(e=>e.ref.current),w)}}E.current=!1}),onBlur:(0,a.m)(e.onBlur,()=>I(!1))})})}),S="RovingFocusGroupItem",A=s.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:o=!0,active:n=!1,tabStopId:l,...c}=e,u=(0,i.B)(),p=l||u,m=N(S,r),x=m.currentTabStopId===p,h=b(r),{onFocusableItemAdd:v,onFocusableItemRemove:y}=m;return s.useEffect(()=>{if(o)return v(),()=>y()},[o,v,y]),(0,f.jsx)(g.ItemSlot,{scope:r,id:p,focusable:o,active:n,children:(0,f.jsx)(d.sG.span,{tabIndex:x?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:(0,a.m)(e.onMouseDown,e=>{o?m.onItemFocus(p):e.preventDefault()}),onFocus:(0,a.m)(e.onFocus,()=>m.onItemFocus(p)),onKeyDown:(0,a.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void m.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let a=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return C[a]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let s=r.indexOf(e.currentTarget);r=m.loop?function(e,t){return e.map((r,s)=>e[(t+s)%e.length])}(r,s+1):r.slice(s+1)}setTimeout(()=>$(r))}})})})});A.displayName=S;var C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var L=k,I=A},73256:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80013:(e,t,r)=>{"use strict";r.d(t,{J:()=>d});var s=r(60687),a=r(43210),o=r(78148),n=r(24224),l=r(4780);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(o.b,{ref:r,className:(0,l.cn)(i(),e),...t}));d.displayName=o.b.displayName},81630:e=>{"use strict";e.exports=require("http")},83721:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(43210);function a(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},89667:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(60687),a=r(43210),o=r(4780);let n=a.forwardRef(({className:e,type:t,...r},a)=>(0,s.jsx)("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));n.displayName="Input"},91645:e=>{"use strict";e.exports=require("net")},92951:(e,t,r)=>{"use strict";r.d(t,{H4:()=>w,_V:()=>y,bL:()=>v});var s=r(43210),a=r(11273),o=r(13495),n=r(66156),l=r(3416),i=r(60687),d="Avatar",[c,u]=(0,a.A)(d),[p,f]=c(d),m=s.forwardRef((e,t)=>{let{__scopeAvatar:r,...a}=e,[o,n]=s.useState("idle");return(0,i.jsx)(p,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:n,children:(0,i.jsx)(l.sG.span,{...a,ref:t})})});m.displayName=d;var x="AvatarImage",h=s.forwardRef((e,t)=>{let{__scopeAvatar:r,src:a,onLoadingStatusChange:d=()=>{},...c}=e,u=f(x,r),p=function(e,t){let[r,a]=s.useState("idle");return(0,n.N)(()=>{if(!e)return void a("error");let r=!0,s=new window.Image,o=e=>()=>{r&&a(e)};return a("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=e,t&&(s.referrerPolicy=t),()=>{r=!1}},[e,t]),r}(a,c.referrerPolicy),m=(0,o.c)(e=>{d(e),u.onImageLoadingStatusChange(e)});return(0,n.N)(()=>{"idle"!==p&&m(p)},[p,m]),"loaded"===p?(0,i.jsx)(l.sG.img,{...c,ref:t,src:a}):null});h.displayName=x;var g="AvatarFallback",b=s.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:a,...o}=e,n=f(g,r),[d,c]=s.useState(void 0===a);return s.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>c(!0),a);return()=>window.clearTimeout(e)}},[a]),d&&"loaded"!==n.imageLoadingStatus?(0,i.jsx)(l.sG.span,{...o,ref:t}):null});b.displayName=g;var v=m,y=h,w=b},94735:e=>{"use strict";e.exports=require("events")},96963:(e,t,r)=>{"use strict";r.d(t,{B:()=>i});var s,a=r(43210),o=r(66156),n=(s||(s=r.t(a,2)))["useId".toString()]||(()=>void 0),l=0;function i(e){let[t,r]=a.useState(n());return(0,o.N)(()=>{e||r(e=>e??String(l++))},[e]),e||(t?`radix-${t}`:"")}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,724,16,306,520,895,635,999],()=>r(29688));module.exports=s})();