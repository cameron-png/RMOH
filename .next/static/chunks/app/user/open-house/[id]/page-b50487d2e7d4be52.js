(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2594],{10:(e,s,t)=>{"use strict";t.d(s,{$v:()=>p,EO:()=>m,Lt:()=>d,Rx:()=>j,Zr:()=>g,ck:()=>x,r7:()=>f,tv:()=>o,wd:()=>h});var a=t(5155),r=t(2115),l=t(2278),i=t(9434),n=t(285);let d=l.bL,o=l.l9,c=l.ZL,u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});u.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(l.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});m.displayName=l.UC.displayName;let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};h.displayName="AlertDialogHeader";let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="AlertDialogFooter";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold",t),...r})});f.displayName=l.hE.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=l.VY.displayName;let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.rc,{ref:s,className:(0,i.cn)((0,n.r)(),t),...r})});j.displayName=l.rc.displayName;let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.ZD,{ref:s,className:(0,i.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});g.displayName=l.ZD.displayName},2346:(e,s,t)=>{"use strict";t.d(s,{w:()=>n});var a=t(5155),r=t(2115),l=t(7489),i=t(9434);let n=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:n=!0,...d}=e;return(0,a.jsx)(l.b,{ref:s,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...d})});n.displayName=l.b.displayName},4165:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>m,Es:()=>x,L3:()=>f,c7:()=>h,lG:()=>d,rr:()=>p,zM:()=>o});var a=t(5155),r=t(2115),l=t(5821),i=t(5318),n=t(9434);let d=l.bL,o=l.l9,c=l.ZL;l.bm;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});u.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};h.displayName="DialogHeader";let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="DialogFooter";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});f.displayName=l.hE.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=l.VY.displayName},6102:(e,s,t)=>{"use strict";t.d(s,{Bc:()=>n,ZI:()=>c,k$:()=>o,m_:()=>d});var a=t(5155),r=t(2115),l=t(8082),i=t(9434);let n=l.Kq,d=l.bL,o=l.l9,c=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.UC,{ref:s,sideOffset:r,className:(0,i.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})});c.displayName=l.UC.displayName},6126:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(5155);t(2115);var r=t(2085),l=t(9434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},8030:(e,s,t)=>{"use strict";t.d(s,{A:()=>u,AuthProvider:()=>c});var a=t(5155),r=t(2115),l=t(3004),i=t(5317),n=t(8214),d=t(5695);let o=(0,r.createContext)(void 0);function c(e){let{children:s}=e,[t,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0),[h,x]=(0,r.useState)(0),f=(0,d.useRouter)(),p=(0,r.useCallback)(async e=>{if(!e)return null;let s=(0,i.H9)(n.db,"users",e.uid);try{let t=await (0,i.x7)(s);if(t.exists()){let s=t.data();return x(s.availableBalance||0),{...e,...s}}{console.log("User profile for ".concat(e.uid," not found, creating one."));let t={id:e.uid,email:e.email||"",name:e.displayName||"New User",phone:"",availableBalance:1e4,createdAt:i.Dc.now(),lastLoginAt:i.Dc.now()};return await (0,i.BN)(s,t,{merge:!0}),x(t.availableBalance),{...e,...t}}}catch(s){return console.error("Error fetching user profile:",s),e}},[]);(0,r.useEffect)(()=>{let e=(0,l.hg)(n.j2,async e=>{if(e){c(await p(e));let s=await e.getIdToken();await fetch("/api/auth/login",{method:"POST",headers:{Authorization:"Bearer ".concat(s)}})}else c(null),x(0),await fetch("/api/auth/logout",{method:"POST"});m(!1)});return()=>e()},[p]);let j={user:t,loading:u,availableBalance:h,refreshUserData:(0,r.useCallback)(async()=>{let e=n.j2.currentUser;e&&(m(!0),c(await p(e)),m(!1))},[p]),signIn:async(e,s,t)=>{let a=await (0,l.x9)(e,s,t),r=(0,i.H9)(n.db,"users",a.user.uid);return await (0,i.mZ)(r,{lastLoginAt:i.Dc.now()}),a},signUp:(e,s,t)=>(0,l.eJ)(e,s,t),signOut:async()=>{await (0,l.CI)(n.j2),f.push("/")},sendPasswordResetEmail:l.J1};return(0,a.jsx)(o.Provider,{value:j,children:s})}function u(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8350:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>q});var a=t(5155),r=t(2115),l=t(5317),i=t(858),n=t(8214),d=t(8030),o=t(5695),c=t(6766),u=t(6874),m=t.n(u),h=t(2177),x=t(5594),f=t(221),p=t(9737),j=t(6695),g=t(285),b=t(7481),v=t(207),N=t(389),w=t(2543),y=t(8186),k=t(172),C=t(6923),A=t(7223),R=t(8763),S=t(286),E=t(4063),Z=t(10),U=t(4165),z=t(2346),I=t(6126),D=t(9409),H=t(9434),B=t(4301);function F(e){var s;let{forms:t,selectedFormId:l,onFormSelect:i,triggerClassName:n}=e,d=(0,o.useRouter)(),{globalForms:c,customForms:u}=(0,r.useMemo)(()=>{let e=[],s=[];return t.forEach(t=>{"global"===t.type?e.push(t):s.push(t)}),{globalForms:e,customForms:s}},[t]),m=null==(s=t.find(e=>e.id===l))?void 0:s.title;return(0,a.jsxs)(D.l6,{value:l||"",onValueChange:e=>{"create-new-form"===e?d.push("/user/feedback-forms"):i(e)},children:[(0,a.jsx)(D.bq,{className:(0,H.cn)("w-[280px]",n),children:(0,a.jsx)(D.yv,{placeholder:"Select a feedback form...",children:m||"Select a feedback form..."})}),(0,a.jsxs)(D.gC,{children:[c.length>0&&(0,a.jsxs)(D.s3,{children:[(0,a.jsx)(D.TR,{children:"Form Templates"}),c.map(e=>(0,a.jsx)(D.eb,{value:e.id,children:e.title},e.id))]}),c.length>0&&u.length>0&&(0,a.jsx)(D.mi,{}),u.length>0&&(0,a.jsxs)(D.s3,{children:[(0,a.jsx)(D.TR,{children:"My Custom Forms"}),u.map(e=>(0,a.jsx)(D.eb,{value:e.id,children:e.title},e.id))]}),(c.length>0||u.length>0)&&(0,a.jsx)(D.mi,{}),(0,a.jsx)(D.s3,{children:(0,a.jsx)(D.eb,{value:"create-new-form",className:"text-primary focus:text-primary",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Create Custom Form"})]})})}),0===t.length&&(0,a.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No forms available."})]})]})}var L=t(7759),O=t(2523),T=t(6102);let Y=x.Ik({streetNumber:x.Yj().min(1,"Street number is required."),streetName:x.Yj().min(1,"Street name is required."),unitNumber:x.Yj().optional(),city:x.Yj().min(1,"City is required."),state:x.Yj().min(2,"State is required.").max(2,"Use 2-letter abbreviation."),zipCode:x.Yj().min(5,"Zip code must be 5 digits.").max(5,"Zip code must be 5 digits.")});function q(){let{user:e,loading:s}=(0,d.A)(),t=(0,o.useRouter)(),u=(0,o.useParams)(),{toast:x}=(0,b.dj)(),[D,H]=(0,r.useState)(null),[B,q]=(0,r.useState)([]),[J,P]=(0,r.useState)(!0),[M,$]=(0,r.useState)(null),[V,_]=(0,r.useState)(!1),[G,W]=(0,r.useState)([]),[K,Q]=(0,r.useState)([]),[X,ee]=(0,r.useState)(!0),[es,et]=(0,r.useState)(!1),ea=(0,r.useRef)(null),[er,el]=(0,r.useState)(!1),[ei,en]=(0,r.useState)(!1),ed=u.id,eo=(0,h.mN)({resolver:(0,f.u)(Y),defaultValues:{streetNumber:"",streetName:"",unitNumber:"",city:"",state:"",zipCode:""}}),ec=(0,r.useCallback)(async()=>{if(e&&ed){P(!0),ee(!0),$(null);try{let s=(0,l.H9)(n.db,"openHouses",ed),t=await (0,l.x7)(s);if(t.exists()){let s={id:t.id,...t.data()};if(s.userId!==e.uid)$("You don't have permission to view this page."),H(null);else{H(s);let t=(0,l.query)((0,l.collection)(n.db,"feedbackForms"),(0,l.where)("type","==","global")),a=(0,l.query)((0,l.collection)(n.db,"feedbackForms"),(0,l.where)("type","==","custom"),(0,l.where)("userId","==",e.uid)),[r,i]=await Promise.all([(0,l.getDocs)(t),(0,l.getDocs)(a)]),d=[...r.docs.map(e=>({id:e.id,...e.data()})),...i.docs.map(e=>({id:e.id,...e.data()}))];q(d);let o=(0,l.query)((0,l.collection)(n.db,"leads"),(0,l.where)("openHouseId","==",ed),(0,l.where)("userId","==",e.uid)),c=(0,l.query)((0,l.collection)(n.db,"feedbackSubmissions"),(0,l.where)("openHouseId","==",ed),(0,l.where)("userId","==",e.uid)),[u,m]=await Promise.all([(0,l.getDocs)(o),(0,l.getDocs)(c)]);W(u.docs.map(e=>e.data())),Q(m.docs.map(e=>e.data()))}}else $("Open house not found."),H(null)}catch(e){console.error("Error fetching document:",e),"permission-denied"===e.code?$("You do not have permission to view these records."):$("Failed to fetch open house details."),H(null)}finally{P(!1),ee(!1)}}},[ed,e]);(0,r.useEffect)(()=>{!s&&e&&ec()},[s,e,ec]),(0,r.useEffect)(()=>{if(null==D?void 0:D.structuredAddress)eo.reset(D.structuredAddress);else if(D){let e=D.address.split(",").map(e=>e.trim());if(e.length>=3){let s=e[0].split(" "),t=s.length>1?s[0]:"",a=s.length>1?s.slice(1).join(" "):e[0],r=e[1],l=e[2].split(" "),i=l[0],n=l[1]||"";eo.reset({streetNumber:t,streetName:a,city:r,state:i,zipCode:n,unitNumber:""})}}},[D,eo]);let eu=async(e,s)=>{let t=(0,l.H9)(n.db,"openHouses",e);try{await (0,l.mZ)(t,{feedbackFormId:s}),await ec()}catch(e){console.error("Error setting feedback form:",e)}},em=async s=>{if(!e)return;let t=(0,l.wP)(n.db),a=(0,l.query)((0,l.collection)(n.db,"openHouses"),(0,l.where)("userId","==",e.uid),(0,l.where)("isActive","==",!0));(await (0,l.getDocs)(a)).forEach(e=>{e.id!==s&&t.update(e.ref,{isActive:!1})});let r=(0,l.H9)(n.db,"openHouses",s);t.update(r,{isActive:!0});try{await t.commit(),await ec()}catch(e){console.error("Error setting active open house:",e)}},eh=async()=>{if(e&&D){_(!0);try{if(D.imageUrl){let e=(0,i.KR)(n.IG,D.imageUrl);await (0,i.XR)(e).catch(e=>{if("storage/object-not-found"!==e.code)throw e})}await (0,l.kd)((0,l.H9)(n.db,"openHouses",D.id)),t.push("/user/dashboard")}catch(e){console.error("Error deleting open house:",e),_(!1)}}};async function ex(s){if(!e||!D)return;let{streetNumber:t,streetName:a,unitNumber:r,city:i,state:d,zipCode:o}=s,c="".concat(t," ").concat(a).concat(r?" #".concat(r):"",", ").concat(i,", ").concat(d.toUpperCase()," ").concat(o);try{let e=(0,l.H9)(n.db,"openHouses",D.id);await (0,l.mZ)(e,{address:c,structuredAddress:s}),et(!1),await ec()}catch(e){console.error("Error updating address:",e)}}let ef=async s=>{if(!s.target.files||0===s.target.files.length||!e||!D)return;let t=s.target.files[0];if(t.size>5242880)return;el(!0);let a=(0,i.KR)(n.IG,"open-house-images/".concat(e.uid,"/").concat(D.id,"/").concat((0,p.A)()));try{let e=await (0,i.D)(a,t),s=await (0,i.qk)(e.ref),r=(0,l.H9)(n.db,"openHouses",D.id);await (0,l.mZ)(r,{imageUrl:s}),H(e=>e?{...e,imageUrl:s}:null)}catch(e){console.error("Error uploading image:",e)}finally{el(!1)}},ep=async()=>{if(D&&D.imageUrl)try{let e=(0,i.KR)(n.IG,D.imageUrl);await (0,i.XR)(e);let s=(0,l.H9)(n.db,"openHouses",D.id);await (0,l.mZ)(s,{imageUrl:null}),H(e=>e?{...e,imageUrl:void 0}:null)}catch(e){console.error("Error removing image:",e)}finally{en(!1)}};if(J||s)return(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading details..."});if(M)return(0,a.jsx)("p",{className:"text-destructive",children:M});if(!D)return(0,a.jsx)("p",{className:"text-muted-foreground",children:"Open house not found or you do not have permission to view it."});let ej=D.address.split(","),eg=ej[0],eb=ej.length>1?ej.slice(1).join(",").trim():"",ev=()=>(0,a.jsxs)(j.Zp,{className:"flex flex-col h-full hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(j.aR,{className:"flex-grow pb-2",children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-between space-y-0",children:[(0,a.jsx)(j.ZB,{className:"text-sm font-medium",children:"Status"}),(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})]})}),(0,a.jsx)(j.Wu,{children:D.isActive?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"Active"}),(0,a.jsxs)(I.E,{className:"bg-green-600 text-white hover:bg-green-600",children:[(0,a.jsx)(N.A,{className:"mr-1"})," Live"]})]}):(0,a.jsx)("div",{className:"text-2xl font-bold",children:"Inactive"})})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Bc,{children:(0,a.jsxs)("div",{className:"w-full mx-auto space-y-8",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(g.$,{variant:"ghost",onClick:()=>t.back(),className:"mb-4 -ml-4",children:[(0,a.jsx)(w.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Back to Dashboard"})]})}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start gap-4 md:gap-6",children:[(0,a.jsxs)("div",{className:"w-full md:w-48 h-48 md:h-32 relative rounded-md overflow-hidden border flex-shrink-0 bg-muted group",children:[D.imageUrl?(0,a.jsx)(c.default,{src:D.imageUrl,alt:"Image of ".concat(D.address),fill:!0,className:"object-cover","data-ai-hint":"house exterior"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(y.A,{className:"w-12 h-12 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center gap-2 rounded-md opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)("button",{onClick:()=>{var e;return null==(e=ea.current)?void 0:e.click()},disabled:er,className:"p-2 rounded-full bg-black/50 text-white hover:bg-black/70 transition-colors","aria-label":"Upload image",children:er?(0,a.jsx)(k.A,{className:"h-6 w-6 animate-spin"}):(0,a.jsx)(C.A,{className:"h-6 w-6"})}),D.imageUrl&&(0,a.jsx)("button",{onClick:()=>en(!0),className:"p-2 rounded-full bg-destructive/80 text-white hover:bg-destructive transition-colors","aria-label":"Remove image",children:(0,a.jsx)(A.A,{className:"h-6 w-6"})})]}),(0,a.jsx)("input",{type:"file",ref:ea,onChange:ef,className:"hidden",accept:"image/png, image/jpeg, image/gif"})]}),(0,a.jsxs)("div",{className:"flex-grow pt-1 w-full",children:[(0,a.jsx)("div",{className:"flex flex-col sm:flex-row justify-between sm:items-start",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight font-headline",children:eg}),(0,a.jsx)(g.$,{variant:"ghost",size:"icon",onClick:()=>et(!0),className:"flex-shrink-0",children:(0,a.jsx)(R.A,{className:"h-5 w-5 text-muted-foreground"})})]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:eb})]})}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Created on ",D.createdAt?new Date(D.createdAt.toDate()).toLocaleDateString():"N/A"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 lg:grid-cols-3",children:[(0,a.jsx)(j.Zp,{asChild:!0,className:"hover:bg-muted/50 transition-colors h-full",children:(0,a.jsxs)(m(),{href:"/user/my-leads?house=".concat(D.id),children:[(0,a.jsxs)(j.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(j.ZB,{className:"text-sm font-medium",children:"Total Leads"}),(0,a.jsx)(S.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(j.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:X?"...":G.length})})]})}),(0,a.jsx)(j.Zp,{asChild:!0,className:"hover:bg-muted/50 transition-colors h-full",children:(0,a.jsxs)(m(),{href:"/user/open-house/".concat(D.id,"/feedback"),children:[(0,a.jsxs)(j.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(j.ZB,{className:"text-sm font-medium",children:"Feedback Responses"}),(0,a.jsx)(E.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)(j.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:X?"...":K.length})})]})}),(0,a.jsx)("div",{className:"col-span-2 lg:col-span-1",children:D.isActive?(0,a.jsx)(ev,{}):(0,a.jsxs)(Z.Lt,{children:[(0,a.jsx)(Z.tv,{asChild:!0,children:(0,a.jsx)("button",{className:"w-full h-full text-left",children:(0,a.jsx)(ev,{})})}),(0,a.jsxs)(Z.EO,{children:[(0,a.jsxs)(Z.wd,{children:[(0,a.jsx)(Z.r7,{children:"Make Open House Active?"}),(0,a.jsx)(Z.$v,{children:"This will make your QR code direct visitors to this property's feedback form. Any other active open house will be deactivated."})]}),(0,a.jsxs)(Z.ck,{children:[(0,a.jsx)(Z.Zr,{children:"Cancel"}),(0,a.jsx)(Z.Rx,{onClick:()=>em(D.id),children:"Yes, make active"})]})]})]})})]}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-1",children:(0,a.jsxs)(j.Zp,{children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsx)(j.ZB,{children:"Feedback Form"}),(0,a.jsx)(j.BT,{children:"Select which form visitors will see when they scan your QR code for this property."})]}),(0,a.jsx)(j.Wu,{children:(0,a.jsx)("div",{className:"max-w-md",children:(0,a.jsx)(F,{forms:B,selectedFormId:D.feedbackFormId,onFormSelect:e=>eu(D.id,e),triggerClassName:"w-full"})})})]})}),(0,a.jsx)(z.w,{}),(0,a.jsxs)(j.Zp,{className:"border-destructive",children:[(0,a.jsxs)(j.aR,{children:[(0,a.jsx)(j.ZB,{className:"text-destructive",children:"Danger Zone"}),(0,a.jsx)(j.BT,{children:"This is a permanent action and cannot be undone."})]}),(0,a.jsx)(j.Wu,{children:(0,a.jsxs)(Z.Lt,{children:[(0,a.jsx)(Z.tv,{asChild:!0,children:(0,a.jsxs)(g.$,{variant:"destructive",children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Delete Open House"})]})}),(0,a.jsxs)(Z.EO,{children:[(0,a.jsxs)(Z.wd,{children:[(0,a.jsx)(Z.r7,{children:"Are you absolutely sure?"}),(0,a.jsx)(Z.$v,{children:"This action cannot be undone. This will permanently delete your open house listing and all associated lead logs."})]}),(0,a.jsxs)(Z.ck,{children:[(0,a.jsx)(Z.Zr,{disabled:V,children:"Cancel"}),(0,a.jsx)(Z.Rx,{onClick:eh,disabled:V,className:"bg-destructive hover:bg-destructive/90",children:V?"Deleting...":"Yes, delete it"})]})]})]})})]})]})}),(0,a.jsx)(U.lG,{open:es,onOpenChange:et,children:(0,a.jsxs)(U.Cf,{children:[(0,a.jsxs)(U.c7,{children:[(0,a.jsx)(U.L3,{children:"Edit Address"}),(0,a.jsx)(U.rr,{children:"Update the address details for this open house."})]}),(0,a.jsx)(L.lV,{...eo,children:(0,a.jsxs)("form",{onSubmit:eo.handleSubmit(ex),className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"col-span-1",children:(0,a.jsx)(L.zB,{control:eo.control,name:"streetNumber",render:e=>{let{field:s}=e;return(0,a.jsxs)(L.eI,{children:[(0,a.jsx)(L.lR,{children:"Number"}),(0,a.jsx)(L.MJ,{children:(0,a.jsx)(O.p,{...s})}),(0,a.jsx)(L.C5,{})]})}})}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsx)(L.zB,{control:eo.control,name:"streetName",render:e=>{let{field:s}=e;return(0,a.jsxs)(L.eI,{children:[(0,a.jsx)(L.lR,{children:"Street Name"}),(0,a.jsx)(L.MJ,{children:(0,a.jsx)(O.p,{...s})}),(0,a.jsx)(L.C5,{})]})}})})]}),(0,a.jsx)(L.zB,{control:eo.control,name:"unitNumber",render:e=>{let{field:s}=e;return(0,a.jsxs)(L.eI,{children:[(0,a.jsx)(L.lR,{children:"Unit Number (Optional)"}),(0,a.jsx)(L.MJ,{children:(0,a.jsx)(O.p,{...s})}),(0,a.jsx)(L.C5,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(L.zB,{control:eo.control,name:"city",render:e=>{let{field:s}=e;return(0,a.jsxs)(L.eI,{children:[(0,a.jsx)(L.lR,{children:"City"}),(0,a.jsx)(L.MJ,{children:(0,a.jsx)(O.p,{...s})}),(0,a.jsx)(L.C5,{})]})}})}),(0,a.jsx)(L.zB,{control:eo.control,name:"state",render:e=>{let{field:s}=e;return(0,a.jsxs)(L.eI,{children:[(0,a.jsx)(L.lR,{children:"State"}),(0,a.jsx)(L.MJ,{children:(0,a.jsx)(O.p,{...s})}),(0,a.jsx)(L.C5,{})]})}})]}),(0,a.jsx)(L.zB,{control:eo.control,name:"zipCode",render:e=>{let{field:s}=e;return(0,a.jsxs)(L.eI,{children:[(0,a.jsx)(L.lR,{children:"Zip Code"}),(0,a.jsx)(L.MJ,{children:(0,a.jsx)(O.p,{...s})}),(0,a.jsx)(L.C5,{})]})}}),(0,a.jsxs)(U.Es,{className:"pt-4",children:[(0,a.jsx)(g.$,{type:"button",variant:"ghost",onClick:()=>et(!1),children:"Cancel"}),(0,a.jsx)(g.$,{type:"submit",disabled:eo.formState.isSubmitting,children:eo.formState.isSubmitting?"Saving...":"Save Address"})]})]})})]})}),(0,a.jsx)(Z.Lt,{open:ei,onOpenChange:en,children:(0,a.jsxs)(Z.EO,{children:[(0,a.jsxs)(Z.wd,{children:[(0,a.jsx)(Z.r7,{children:"Are you sure?"}),(0,a.jsx)(Z.$v,{children:"This will permanently remove the image for this open house. This action cannot be undone."})]}),(0,a.jsxs)(Z.ck,{children:[(0,a.jsx)(Z.Zr,{children:"Cancel"}),(0,a.jsx)(Z.Rx,{onClick:ep,className:"bg-destructive hover:bg-destructive/90",children:"Yes, remove image"})]})]})})]})}},9401:(e,s,t)=>{Promise.resolve().then(t.bind(t,8350))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,3644,1686,9035,2488,6874,1808,3063,5821,4434,8434,7705,4016,8441,1684,7358],()=>s(9401)),_N_E=e.O()}]);